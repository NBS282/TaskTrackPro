@rendermode InteractiveServer

<div class="nav-item px-3">
    <button class="btn btn-link nav-link text-start w-100 d-flex justify-content-between align-items-center"
            @onclick="ToggleAdmin">
        <span>
            <i class="bi bi-person-gear"></i> Admin System
        </span>
        <i class="bi @(showAdmin ? "bi-chevron-down" : "bi-chevron-right")"></i>
    </button>

    @if (showAdmin)
    {
        <div class="nav-item mt-1 ms-3">
            <button class="btn btn-link nav-link text-start w-100 d-flex justify-content-between align-items-center"
                    @onclick="ToggleUsers">
                <span>
                    <i class="bi bi-people"></i> Users
                </span>
                <i class="bi @(showUsers ? "bi-chevron-down" : "bi-chevron-right")"></i>
            </button>
            @if (showUsers)
            {
                <div class="ms-3">
                    <NavLink class="nav-link" href="/users/create">
                        <i class="bi bi-person-plus"></i> Add User
                    </NavLink>
                    <NavLink class="nav-link" href="/users/delete">
                        <i class="bi bi-person-x"></i> Delete User
                    </NavLink>
                    <NavLink class="nav-link" href="/users/roles">
                        <i class="bi bi-shield-lock"></i> Assign Roles
                    </NavLink>
                    <NavLink class="nav-link" href="/users/removeRoles">
                        <i class="bi bi-person-check"></i> Remove Roles
                    </NavLink>
                    <NavLink class="nav-link" href="/users/change-password">
                        <i class="bi bi-key"></i> Change Password
                    </NavLink>

                </div>
            }
        </div>
    }
</div>

@code {
    private bool showAdmin;
    private bool showUsers;
    private bool showSystem;

    private void ToggleAdmin()
    {
        showAdmin = !showAdmin;
    }

    private void ToggleUsers()
    {
        showUsers = !showUsers;
    }

    private void ToggleSystem()
    {
        showSystem = !showSystem;
    }

}
